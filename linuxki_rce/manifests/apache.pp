# Class: linuxki::apache
# Apache configuration for linuxki
#
class linuxki_rce::apache {
  Exec { path => ['/bin', '/usr/bin', '/usr/local/bin', '/sbin', '/usr/sbin'] }

  file { '/etc/apache2/sites-enabled/000-default.conf':
    ensure => 'absent',
  }

  class { '::apache':
    default_vhost   => false,
    default_mods    => ['rewrite'], # php5 via separate module
    overwrite_ports => false,
    mpm_module      => 'prefork'
  }
  -> ::apache::vhost { 'linuxki':
    port     => '80',
    options  => 'FollowSymLinks',
    override => 'All',
    docroot  => '/opt/',
  }
}
