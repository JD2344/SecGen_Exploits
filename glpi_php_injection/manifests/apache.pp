# Class: glpi_php_injection::apache
# Apache configuration
#
class glpi_php_injection::apache {
  $port = '80'
  $docroot = '/var/www/html/glpi'

  Exec { path => ['/bin', '/usr/bin', '/usr/local/bin', '/sbin', '/usr/sbin'] }

  ::apache {
    default_vhost   => false,
    error_log => true,
    access_log => true,
  }

  ::apache::vhost { 'glpi':
    port    => $port,
    docroot => $docroot,
  }

  exec { 'remove-default-site':
    command   => 'rm /etc/apache2/sites-enabled/000-default.conf',
    logoutput => true
  }
}
