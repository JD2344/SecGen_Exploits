# Class: nagiosxi_rce::install
# Install process for nagios XI
#
class nagiosxi_rce::install {
  Exec { path => [ '/bin/', '/sbin/' , '/usr/bin/', '/usr/sbin/' ]}

  file { '/tmp/xi-5.8.4.tar.gz':
    ensure => file,
    source => 'puppet:///modules/nagiosxi_rce/xi-5.8.4.tar.gz',
  }
  -> exec { 'unpack-nagiosxi':
    cwd     => '/tmp/',
    command => 'tar -xvf xi-5.8.4.tar.gz',
    creates => '/tmp/nagiosxi/'
  }
  -> exec { 'install-nagiosxi':
    cwd     => '/tmp/nagiosxi/',
    command => '/bin/bash ./fullinstall -n -f',
    timeout => 900,
  }
}
