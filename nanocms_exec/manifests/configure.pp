# Class: nanocms
#
#
class nanocms_exec::configure {
  # TODO: Unzip contents of nanocms.zip to desired location on apache install
  $strings_to_leak = ['this is a list of strings that are secrets / flags','another secret'] ##$secgen_parameters['strings_to_leak']
  $known_username = 'admin' ##$secgen_parameters['known_username'][0]
  $known_password = 'demo' ##$secgen_parameters['known_password'][0]
  $strings_to_pre_leak =  ['The username is admin', 'The password is demo'] ##$secgen_parameters['strings_to_pre_leak']
  $web_pre_leak_filename = 'PRELEAK_NAME'

  if $strings_to_pre_leak.length != 0 {
    file{ "/var/www/html/nanocms_exec/${web_pre_leak_filename}":
      ensure  => file,
      content => template('nanocms_exec/pre_leak.erb')
    }
  }

  Exec { path => ['/bin', '/usr/bin', '/usr/local/bin', '/sbin', '/usr/sbin'] }

}
